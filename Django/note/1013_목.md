### ## Q&A

---

* 저번주 모델폼을 활용한 아티클 crud를 만듬
  * 데이터 기반의 어플리케이션을 제작함, 크루드는 데이터베이스를 활용하고 있으니!
  * 요청이오면 응답을 해주는 서버 
  * 서버는 데이터베이스와 값을 가져와서 뿌려줌
  * 폼이 유아이, 디비 테이블간의 밀접관계
    * 두가지 동시관리하는 모델폼을 장고에서 만듬
* 이번주는 유저 crud
  * 인증받아야함(로그인)
  * 비밀번호는 별도의 절차가 필요함(비밀번호 암호화) 
  * 앱스트랙 유저 상속 받아서 활용 -> 비밀번호
  * 비밀번호와 관련한 폼 상속
  * 컨트립, 어쓰 앱에 자리잡고 있음
    * 유저 생성하는 유저크레이션 폼(모델필드오 ㅏ연동해서 관리, 여기서 받은 정보를 통해서 특정 모델에 해당하는 디비를 저장) -> 디비에 저장, 수정, 비밀번호 2개 체크, 저장, 비밀번호 암호화
    * 로그인 고나련 어센틱폼, 인증여부 , 인증 여부 완료되면 완료 되면 유저 객체를 줌
  * 뷰 함수 제공
    * 로그인 데코레[이터]



* 로그인

  * 커넥션리스
    * 응답하면 끝
    * 채팅
  * 스테이트리스
    * 요청보낸사람이 누구인지 서버입장에서 알 수 없음
  * 로그인하면 그 이후 요청 인증정보를 가지고 있다..아이디가 박혀있다. 
  * 쿠키
    * 해결하기 위해 쿠키 컨셉을 발견
    * 지난번에 요청을 한 사람에게 서버가 쿠키를 던져주고, 다음 번에 요청할떄는 쿠키 정보까지 같이 서버로 넘어옴
  * 세션
    * 내가 지금 어떤 상태?
      * 쿠팡 로그인해서 인증 받은 이유로, 특정 상태를 유지하고 있을 수 있는 것과 같음
    * 세션은 연결 되어있다는 상태
    * **세션은 어떻게 저장할까?** 
      * **데이터베이스 장고 세션테이블에 저장해놓기로함!!** 
  * 쿠키는 프로토콜 상에서 상태를 관리할 수 있는 도구적인 측면
  * 세션은 둘의 연결 된 상태
    * 세션 어떻게 유지하려면? -> 쿠키라는 걸 사용해서 사용자에게 전달해놓고 디비에 세션 아이디 값을 저장해놓고 두 개를 확인하면서 이 상태세션을 유지해나가겠다!! 
  * 쿠키는 클라이언트가 요청을 보내면 응답할때 같이 보내주는건데 이 쿠키안에 session id가 저장되어 전달 되고 서버에서는 이 세션아이디가 같은지를 확인하는거
  * 로그인 요청하면 인증되고, 로그인이 되었다는걸 확인하면서 던져주면서 쿠키의 세션 아이디가 들어가 있는 상태로 들어가 있고, 매 요청때마다 세션 아이디 정보가 들어올텐데, 서버 디비 테이블에 저장되어있는 값이 있으니까 그거랑 비교해보면 이사람이 리퀘스트 닷 유저가 누군지 확인할 수 있음

  

  * 로그인 함수는 어딨을까? 로그아웃 함수도 동일
    * 프롬 장고 컨트리뷰 어쓰 임포트 로그인
  * 유저 크레이션 폼은 어딨을까? 
    * from django.contrib.auth.forms
  * 로그인 리콰이얼드는 어딨 을까? 
    * django.contrib.auth.decorators
  * 컨트립 어쓰 모델 => 앱쓰트렉 유저
  * 아티클. 폼즈 => 아티클 폼
  * 아티클. 뷰 => 여러함수
  * 아티클.모델즈 => 아티클 클래스
  * 셋팅 > 인스톨 앱에 앱 이름이 있음(장고 컨트리브 어쓰)
  * 어쓰 뒤에는 장고에서 만든 파일 이름을 의미하는 것임

  

* Q. 먼텍스트에서 전달되고 있는 유저라는 것이 있었고, 요청한 유저인 경우 편하게 request,user로 쓰면 좋음

* 게시글을 작성한 계정만 글을 수정하고 삭제할 수 있게 할 수 있을까요? 
  * 게시글을 어떻게 작성한 계정인지 알 수 있을까? 
  * 게시글 이게 유저 피케이를 저장을 해야 할 수 있음
  * ㅁ템플릿에. 리퀘스트 유저가 아티클 유저랑 같다면 삭제 수정 버튼 보여줄께 
  * 유저 피케이를 저장하는 것은 다음주 수업



* 유저네임 클릭 시 해당 회원 조회페이지(프로필 페이지)로 이동이 안됨 어떻게함?? 
  * accounts/1/



## 회원정보 수정

---

* 깃 스위치를 해서 브랜치를 따고 시작함
  * 독립적인 작업공간을 가져각 ㅣ위해서
  * vs코드에서 만드는 것 가능

1. Url 정해야함
   1. accounts/<int:pk>/update
   2. 회원정보 수정을 하는데 우리가 과연ㄹ 1번유저 수정, 2번 유저 수정 할 필요 없고 그냥 로그인한 유저의 정보를 수정하면 됨
   3. url은 accounts/update/,  단, 로그인한 사용자, 그 아이디 값을 받아서 처리
   4. 인증을 할 수 있으니 로그인한 사용자로 표현 가능
   5. update/
2. 기능 뷰
   1. 겟 요청: 폼
   2. 포스트 요청: 실제 수정(개인 프로필 페이지로 보내줌)
   3. 폼을 줄 떄 우리는 무슨 폼? => 유저와 연결 된 모델폼 사용하면 됨       
   4. 업데이트 함수로 받고, 겟은 폼이라는 것을 줄꺼고 리턴 렌더해서 리퀘스트 정보와 업데이트 템플릿



* q. 언제 로그인 리콰이얼드?
  * 로그인이 필요한 상황에서!! 
  * Request.user로 유저 객체를 쓰는 뷰함수에서는 거의 무조건 써야함 