### 9:00-10:00

---

### 어제 내용 복습



### url 변수화

* 목적: 여러번 활용됬을 때, 코드 재사용성, 유지보수, 코드 변경 최소화
* url경로에 이름지을 때, index로 지으면 생기는 문제? 
  * 인덱스라는 이름을 두개 지었을때
  * 해당 변수는 모든 영역에 공통 적용 됨 => 프래틱으로 적용 됨(가장 마지막에 정의 된 애)
  * 우회할 수 있는 방법! => 네임 스페이스
    * 정의가 되었다면, `엡네임:네임` 을 html에 붙여줘야 됨 => 안그러면 에러가 발생함



### 템플릿 네임스페이스

* 동일한 이름일때, 템플릿 내 각 앱별 분류



### 드라이 원칙

* 소스 코드에서 동일한 코드를 반복하지 말자
  * 예시: 베이스.html

### 마무리

* 장고의 설계 철학
  * 표현과 로직을 분리, 표현은 템플릿(html에 로직 생략)
  * 중복을 배제
* 프레임워크의 성격
  * 독선적
    * 규칙들이 많음 => 컨벤션 오버 컨피겨레이션 => 설정보다는 관례
  * 관용적
    * 제약이 거의 없음
* 장고는 다소 독선적이지만 편함



### 소프트웨어 다루는 직군

* 세상 문제 해결
* 세상의 문제가 너무 복잡합
* 추상화(요약)



### 장고 구조 이해하기

### 디자인 패턴이란? 

### mvc 소프트퉤어 디자인 패턴

* 모델: 데이터 관리
* 뷰: 보여주는 것, 레이아웃과 화면을 처리
* 컨트롤러: 명령을 모델과 뷰 부분으로 연결
* 관심사 분리
* 더 나은 업무의 분리와 향상된 관리를 제공
* 각 부분을 독립적으로 개발할 수 있어, 하나를 수정하고 싶을 떄 모두 건들지 않아도 됨
* 장고는 mvc패턴을 기반으로 한 mtv패턴을 사용
  * 두 패턴은 서로 크게 다른 점은 없으며, 일부 역할에 대해 부르는 이름이 다름
  * 뷰 => 템 플릿
  * 컨트롤러 => 뷰
  * 모델: 응용 프로그램의 데이터 구조를 정의하고, 데이터베이스의 기록을 관리
  * 템플릿: 화면상의 사용자 인페이스 구조와 레이아웃을 정의 , `html`
  * 뷰: 모델과 템플릿 관련한 로직을 처리해서 응답을 반환
    * url이 받고, 뷰함수에 배정, 뷰가 모델한테 물어보고, 템플릿에 실어서 보내는 역할
  * 예를 들어 유튜브
    * 모델: 조회수, 좋아요, 댓글, 영상 목록등의 데이터를 정리



### 데이터베이스

* 체게화 된 데이터의 모임
* 검색 및 구조화 같은 작업을 보다 쉽게 하기 위해 조직화 된 데이터를 수집하는 저장 시스템
* 스키마
  * 뼈대, 데이터베이스에서 자료 구조, 표현 방법, 관계등을 정의한 구조
* 테이블
  * 필드와 레코드를 사용해 조직된 데이터 요소들의 집합
* pk
* 쿼리 
* 장고는 모델을 통해 데이터에 접근하고 조작



### 모델 작성하기

* 모델 파일 작 성
  * 모델 클래스 작성 ==테이블 스키마
* 클래스 변수 설정
* 데이터 유형에 따라 컬럼 제공
  * carfield
  * textfield



### 마이그레이션스

* 메이크마이그레이션
  * 명령어 실행 후 파이썬 파일 생성됨
  * 마이그레이트 => 설계도를 실제 데이터베이스에 반영하는 과정



### 게시판

* py
  thon manage.py db_shell

* 작성이 되었다는 것은 저장까지 해야함(디비)=> 모델
  1. 모델정의
  2. 클래스 변수 두개 정의 타이틀, 컨텐츠

### 오후실습

---

### CR복습



1.  python -m venv venv
2. .venv/bin/activate
3. pip install django==3.2.12
4. pip list
5. Django-admin startproject crud
6. 흑마법
7. 모델정의
   1. Class todo(models.model):
      1. 장고에서 아이디는 자동으로 만들어준다. 
   2. content = models.charfield(max_length =80)
   3. completed = models.booleanfield(default=false)
      * 디폴트값은 데이터를 생성할 때 값을 안넣으면 자동으로 값을 채워서 데이터를 생성하겠다. 
   4. python manage.py makemigrations => 설계도 파일 생성
   5. python manage.py migrate => 설계도를 데이터베이스에 이주시키겠다. 
   6. url 분리
      * 각 앱마다 url 파일 만듬
      * 프로젝트 url 파일에 path('todos/', include('todos.urls' 인클루드()
      * 앱 내 url 들어가서 from django.urls import path, from . import views
      * url 네임스페이스
        * url을 이름으로 분류하는 기능 => 앱 네임 = app_name = "todos"
   7. 뷰 파일 들어가서, 함수 정의
   8. 템플릿 폴더 만들기 > 인덱스.html
   9. 인덱스에 사용자에게 정보를 입력 따을 때, form 태그를 사용해야한다. 
      1. 벨류에 할일 추가 넣어줌
      2. 인풋타입 텍스트에 맥스렝스 10으로 넣어줌
      3. 액션은 어떤 url을 요청할지? 
         1. "{% url 'todos:create' %}"
      4. 네임을 지정해줘야함 
      5. 앱 유알엘에 크레이트 함수와 이름 지정
      6. 뷰에 가서 크레이트 함수 만들어줌
         1. content = 템플릿에서 데이터를 겟해야함
         2. Content = request.GET.get("content___")
         3. from .models import Todo => 모델 불러옴
         4. Todo.objects.create(contetnt=content)
      7. 리드(목록 출력)
         1. 폼 밑에 Ul li 저녁먹기, 목요일 점심먹기, 목요일 저녁먹기
         2. 위에꺼 말고 우리가 입력한 데이터를 불러와야됨
         3. todos = Todo.objects.all()
         4. context = {
         5. "todos" : _todos,
         6. }
         7. return render(request, 'todos/index.thml', context)
         8. 인덱스에 투두즈 넣기 => 쿼리셋 리스트로 나오기 때문에 for 문으로 출력해야함
         9. 데이터 처럼 하려면 todo.id, todo.content, todo.completed
      8. 리다이렉트 모듈불러오고
      9. 리턴에 리다이렉트 사용('todos:index')
      10.  삭제
          1. **html에 삭제 넣고 그 앞에 에이 태그 href="{% url 'todos:delete' todo.pk %} url만들기**
          2. 유알엘 파일에 타입 지정해주고, todopk name 딜리트
          3. 뷰에 딜리트 함수 만들고, 삭제해야 될 값 가져옴



* 리다이렉트

  사용자가 크레이티드 요청

  서버에서 인덱스 요청

  사용자에게는 인덱스가 응답

* 아티클의 템플릿이 없을 때 에러를 나오는게 정상

* 아티클에 템플릿이 있을 때, index랑 루트 둘다 나옴

* 주소 인덱스에 대한 패쓰가 안나옴





