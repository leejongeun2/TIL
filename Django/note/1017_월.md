## 이미지 업로드 

---

* 이미지라는 것을 사용자가 업로드해서 서버에 존재하게끔 
* 요청 들어오면 이미지 보여줌
* 이미지 저장 > 어떤 필드 추가 해야함 -> 모델 설정!! 
* 사진 올렸으니, 사진을 보여줘야하고 삭제해야 되기 때문, 게시글 생성에도 사진 기록 되어야함
  * 추가적인 필드 설정!!
* 사용자 입력 받을 때, 모델폼 사용 모델조정, 모델 폼 사용
* 이것을 도와주는 라이브러리를 필수로 사용해야함
* 파이썬에서 이미지를 다루기 대문에 필로우 라이브러리를 써야함
* 필로우 설치 > 이미지 관리하기 위해서 > 필로우가 파이썬 이미지 라이브러리라서 > 장고가 파이썬이라서
* 이미지 필드 정의 : 
  * 이미지 =. models.imagefield(upload_to='imges/', blank=true)                                                                   

* 개념 지도 상에서 조금 더 확장을 하면 될 것 같음 
* 이미지를 사용하기 위해서 : 폼, 뷰, 서비에서 보여주는 것
* 파일이라는 것을 서빙하기 위해서 
* 우리가 만드는 것이 서버이니까. 
* 파일을 서빙한다, 



* 이미지를 좋은 해상도로 보여줄 필요가 있을까? 
* 사용자가 이미지를 업로드 하게 되면 원본 그 자체를 쓰는게 아니라, 용량 큰 걸 넣으면.   서버 저장 공간이 늘어남
* 줄이는 프로세싱을 해서 저장을 할 수 있음
* 이미지 처리 후 저장하는 로직 => 이미지 리사이징



* 이미지 여러개 받고 싶을 때 
  * 이미지 저장 
  * 이미지 테이블 만들고, 아티클 아이디 저장함
  * 모델 설계 바꾸기 (1:n)



### 복습

---

1. 이미지 구현하려면? 
   1. 저장, 필드추가, 모델 설정
   2. 게시판에 사진이라는 것을 올렸으니 사진이라는 것을 보여줘야 될 것임, 사진삭제, 게시글 생성할 떄 사진 기록되어야함
   3. 추가적인 필드 설정
   4. 모델폼 조정
   5. 장고 공식 문서 참고
2. 이미지 필드 정의
3. 이미지 리사이징
   1. 이미지 처리 후 저장하는 로직을 사용
4. valueerror at /articles/2 오류이유? `the 'image' attribute has no file associated with it`
   1. 이미지 파일 없는 게시물 안열림
   2. 템플릿에서 if문 사용

### Q&A

* 이미지 여러개 받고 싶을 떄 

  * 이미지 저장을 어떻게 할 것이냐? => 이미지 저장하는 테이블을 만들고, 아티클 1, 2,3 아티클 저장하기
  * 모델 설계를 바꿔야함 , 1:n으로
  * 이미지 여러개 선택 할 수 있도록 => 이미지 멀티 html 
  * 뷰에서도 반복 로직 해야함

* 회원정보 페이지를 권한이 있는 사람만?

  * 어드민에서 스태프권한 있는지 확인, 스태프 권한만 사이트에 들어올 수 있도록
  * 로그인처리 했던 것처럼 분개 가능

* 메세지 프레임워크

  * 

  
