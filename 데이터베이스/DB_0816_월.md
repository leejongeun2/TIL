## 9:00 - 10:00

---

* 디비는 이세상에 있는 모든 데이터를 저장하는데 효율적인 도구
* 디비는 어디에 쓰이나요? 
  * 사이트 사용, 내 회원정보는 디비에 저장 되어있음
  * 데이터베이스를 활용하는, 조작하는 언어 중 하나가 sql(쿼리 랭귀지) => 단순함, 질문을 디비에 날리는, 명령에 해당함
  * 내가 짠 코드로 찾는 1초, 다른사람이 짠 코드를가 찾는  0.5초걸림
  * 장고라고 하는 웹 서버 구축하는 프레임워크가 있음 => 데이터를 가져와서 보내주고 하는 작업을 진행할 것임
  * 디비를 관리하는 다양한 소프트웨어가 있음, 조금씩 다른 부분이 있긴한데 공통적이고 유사한 부분이 있음



## 10:00 - 11:00

---

* 데이터베이스는 앞으로 웹 개발을 하는데 있어서 중요한 도구가 될 것임
* 회원가입, 게시판에 게시물을 쓰거나, 인스타그램 포스팅, 담벼락 글들, 쇼핑몰 제품정보들 => 데이터베이스에 저장 되어있음
* 데이터베이스에서 자료 조회에서 원하는 것들을 보여주고 있음
* 주로 다루게 될 언어는 sql
  * 데이터 분석, 웹개발자들 활용
  * 사전 테스트로 코딩 테스트 + sql을 보는 곳도 많음

### 데이터베이스? 

> 체계화 된 **데이터의 모임**
>
> 여러 사람들이 공유하고 사용할 목적으로 통합 관리되는 **정보의 집합**
>
> 논리적으로 연관 된 하나 이상의 자료의 모음
>
> 그 내용을 고도로 구조화함으로써 검색과 갱신의 효율화를 꾀한 것 
>
> 몇개의 자료파일을 조직적으로 통합하여 자료 항목과 중복을 없애고 자료를 구조화하여 기억시켜 놓 자료의 집합체

### 

* 장점: 중복 최소화, 무결성, 일관성, 독립성, 표준화, 보안유지
* 일반적으로 데이터, 자료라고 하면? => 파일 데이터 => 엑셀이 많이 떠오름
  * 엑셀과 데이터베이스는 무결성 차이
  * 디비 활용하게 되면 양식을 정할 수 있음 

### 관계형 데이터 베이스

* 서로 관련 된 데이터를 저장하고 접근할 수 있는 데이터베이스 유형
* 키와 값들로 간단한 관계를 표 형태로 정리한 데이터베이스
* **스키마**
  * 데이터베이스에서 자료 구조, 표현방법, 관계등 **전반적인 명세를 기술한 것**
    * 각 항목별 자료구조를 정해놓으면 데이터 들어올 때 막아줄 수 있음
* **테이블**
  * 열(컬럼/필드)과 행(레코드/값)의 모델을 사용해 조직된 데이터 요소들의 집합
  * 열: 각 열에 고유한 데이터 형식 지정
  * 행: 실제 데이터가 저장 되는 형태
  * **기본키: 각 행(레코드)의 고유값**
    * 반드시 설정해야하며, 데이터베이스 관리 및 관계 설정 시 주요하게 활용됨(예: 학번, 군번, 사번등)
    * 중복 발생되지 않은 고유 값



### 관계형 데이터베이스 관리시스템

* 관계형 모델을 기반으로 하는 데이터베이스 관리시스템을 의미 
* mysql
* oracle
* postgresql
* **sqlite => 이번에 수업으로 진행 될 것임**
  * 서버가 아닌 파일 형식으로 응용 프로그램에 넣어서 사용하는 비교적 가벼운 데이터베이스
  * 로컬에서 간단한 디비 구성을 할 수 있으며, 오픈소스 프로젝트이기 때문에 자유롭게 사용가능
  * 장고에서 설정값 바꾸면 다른 디비 활용 가능
  * 데이터타입이 있음
    * int, text위주로 많이 활용 할 것임(원래는 숫자에 길이에 따라 타입이 별도로 있음)



### SQL

* 구조화 된 쿼리 랭귀지
* 데이터 관리를 위해 설계된 특수 목적으로 프로그래밍 언어
* 스키마 생성 및 수정
* 자료의 검색 및 관리
* **Ddl: 관계형 데이터베이스 구조(테이블, 스키마)를 정의하기 위한 명령어 => create, drop, alter**
* **Dml: 데이터를 저장, 조회, 수정, 삭제등을 하기 위한 명령어 => insert, selelct, update, delete**
* dcl: 데이터베이스 사용자의 권한 제어를 위해 사용하는 명령어 => grant, revoke, commit, rollback
* ddl, dml을 주로사용하게 됨
* Csv(excel): 컴마로 구분 된 값들

![](DB_0816_월.assets/스크린샷 2022-08-16 오전 10.41.33.png)



1. Sql  파일로 공유해주실 예정



## 11:00 - 12:00

---

* 다음과 같은 스키마를 가지고 있는 테이블을 만들고 스키마를 확인해보자.

* ```sqlite
  create table classmates(name TEXT, age INT, address TEXT);
  .schema classmates
  ```



* 컬럼에 제약 조건을 달 수 있음
  * not null : null 허용 안됨(값 자체가 없는 것을 허용하지 않겠다.)
  * unique: 중복값 허용 안됨
  * primary key
  * foreign key: 
  * check : 조건으로 설정 된 값만 입력 허용
  * default : 기본 설정 값
  * 스키마를 작성하여 제약 조건을 달면 엑셀에서의 유결성을 해결할 수 있음
    * 테이블 만들때 `필드이름, 타입, 제약조건`으로 구성 

### crud

* 크리에이트, 리드, 업데이트, 딜리트

* 오늘은 크리에이트, 리드 위주로 진행

* 크리에이트

  * insert

  * 테이블에 정의 된 모든 컬럼에 맞춰 순서대로 입력

  * 테이블에 단일 행 삽입

  * 테이블에 이름이 홍길동이고 나이가 23인 데이터를 넣자.

    ```sqlite
    INSERT INTO classmates (name, age) VALUES('홍길동', 23); 
    -- 3개의 컬럼이 있는데, 값을 두개 넣어서 오류가 뜸
    -- 이름이랑 나이랑 넣고 싶을때는? 반드시 어느 필드에 넣을지 대응되는 필드를 지정해줘야 됨
    -- 주소가 비워있어도 될까? => 배송인 경우에는 주소 있어야 되어서 제약조건을 넣어야 됨(비워있는 것은 안들어갈 수 있도록)
    select rowid, * from classmates;
    -- rowidsms sqlite에서 자동으로 제공하는 pk, 값이 1씩 증가하는 모습을 보임, rowid가 넣어감(프라이머리 키가 없을 때)
    select name from classmates;
    -- 이름만 볼 수 있음
    ```

    

  * insert 사용해서 각 정보는 이름/나이 주소로/구분 되는 값 입력

  * **리드**

    * select

    * select * from 테이블

    * 중복제거 select distinct

    * 테이블에서 id, name컬럼 값만 조회하세요 

      ```sqlite
      select rowid, name from classmates;
      ```

       * id, name에서 컬럼 값을 하나만 조회하세요(레코드 하나만 조회) => 리미트 사용

       * ```sqlite
         select rowid, name from classmatest limit 1;
         -- 젤 위에 있는 홍길동이 나옴
         -- 리미트 2를 하면 홍길동, 김철수가 나옴
         select rowid, name from classmate limit 1 offset 2;
         ---오프셋 2를 해야지 세번째 값이 나옴 => 세번째 값 1개
         select * from table limit 10 offset 5
         --6번째 행부터 10개 행을 조회(6번째 행부터 10개를 출력)
         
         ```

  * Offset : 처음부터 주어진 요소나 지점까지 차이를 나타내는 정수형 
    * 문자열 'abcedf' 에서 문자 c는 시작점 a에서 2의 offset을 지님

  * 테이블에서 컬럼 값 중에 주소가 서울인 경우

    ```sqlite
    select * from classmates where address='서울';
    ```

  * 나이가 30살 이상인 사람

  * ```sqlite
    select name from classmates where age>=30; 
    ---slect 뒤에는 보고 싶은 컬럼명
    select name from classmates where age>=30 limit 1; 
    ```

  * `*`는 `모든`이라는 뜻

  * age값 전체를 중복없이 조회하세요. 

    ```sqlite
    select distinct age from classmates;
    --distinct 뒤에 중복 없애고 싶은 컬럼명
    
    --지역 목록 필요할 때? 
    Select distinct address from classmates;
    ```

  * 삭제

    * ```sqlite
      delect from classmates where rowid =5;
      --특정 레코드 지울 때(5번에 해당하는 레코드 지워짐)
      --drop은 테이블 자체가 사라짐
      ```

    * ```sqlite
      creat table member(id intger primary key autoincrement, name text not null)
      --- autoincrement 사용 시 끌어올라가는 것이 아니라 번호가 새로 배정 됨 (전에것이 삭제가 되어도!!)
      -- 자동으로 증가 되도록
      -- 장고에서 기본 값은 삭제해도 그 다음번호로 추가됨
      ```

  * 수정

  * 특정한 무엇을 수정한다! 

    * ```sqlite
      updqte classmates set address='서울' where rowid=5;
      -- 5번에 해당하는 주소가 서울로 변경 됨
      ```

    * **웹개발 시 수정, 삭제되는 조건을 어떤 기준으로 할지?** 

      * **프라이머리 키를 기준으로 하게 됨!!** 
      * **고유한 값을 가지고 있는 것이기 때문에** 

  

  ## 오후

  ---

  압축파일로 실라버스에 과제 제출

  

