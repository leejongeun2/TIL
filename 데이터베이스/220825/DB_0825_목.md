 ## 9:00 -10:00

---

* 웹이라는 서버를 만들기 위해서 틀에 박힌 일을 할 텐데, 그걸 하기 도와주는 일을 프레임워크라고 함

### 3가지 환경

1. py파일: 파이썬 코드를 작성하는 환경
2. shell_plus : 파이썬 코드를 작성하는 환경
3. 터미널 : 파이썬 파일을 실행하고 무언갈 하는 환경



## 10:00 - 11:00

---

### query set api

* 기능 : 코드로 뭐 하겠거니~로 봐주면 됨
* select 어떻게 하면 실제로 코드를 구현해서 활용할 수 있을지
* 모델링은 서비스의 모형일수도 있고, 어제는 파이썬으로 클래스를 만들어서 두가지 명령을 입력했더니 데이터베이스에 실제 테이블이 생성되었음, 변경도 되었음
* 모형을 클래스 틀로 만들어놓고 마이그레이션 명령을 하게 되면 마이그레이션 파일이 생성 됨, 기존에 있었던 모델 대비, 지금 변경 된 것이 무엇인지 파악해서 그 변경사항들을 어떻게 하면 되는지, 기록을 함
  * 컬럼명 변경 등, 변경 된 내용을 마이그레이트 명령어를 통해 디비에 반영 됨
* 오늘은 필터라는 메서드에 다른 활용방법을 익힐 예정



### gt, gte

* greater than, where id > 4 = filter(id__gt=4) 

### lt, lte

* 미만, 이하

### in

* 포함

### startswith

* 시작하는것! => like 'lennon%';

### istartswith

* 대소문자 구분 안함

### orm의 장단점

* 장점: 우리가 데이터베이스를 고민할 필요가 없음 => 나중에 데이터베이스를 바꿔도 코드는 바뀌지 않음, 유지 보수 관리가 편함
  *  딕셔너리만 바꾸면 mysql 사용 가능
* 단점: 복잡한 형태의 쿼리들을 직접 장고가 작성 된 대로밖에 안되어서 복잡한 쿼리, 제약사항이 발생 됨



### contains

### range

* Sql between 과 동일

### 복합 활용

* 

#### all()[0]

* limit1
* 만약에 슬라이싱 한다면? Limit offset = [n:m]

### order by 

* 오더바이는 똑같음
* 내림차순은 '-id'

⚠️쿼리셋은 개별 오브젝트의 모음 => 해당 경우에만 쿼리를 볼 수 있음



### 모델링

* 외래키가 중요함! 
* 다른테이블에 있는 pk를 가지고 오는 것 
* 댓글은 내가 어느 글에 속해있는지 나타내는 글 id 값을 저장하게 됨
* 한 앨범은 장르가 반드시 하나일 밖에 없음, 
* 댓글 달린 글을 삭제가 안됨 => cascade(연쇄 삭제) 반대로 protect(삭제되지 않음)
* 삭제라는 개념중 `soft delete` => 지우지 않았지만 지워진 것처럼  => 필드를 만들고 is_delete, is_active

### 외래키

* 키를 사용하여 부모테이블의 유일한 값을 참조(참조 무결성)
* 참조하는 대상이 사라졌을 때, 정책이 있어야함
* 데이터베이스는 무결성이 중요함 => 제약조건 같은 것 
* ⚠️장르 필드를 추가했는데, 쿼리에는 장르로 해야 함, 포린키를 쓸 때는 자동으로 id가 붙음
* 저장 > 메이크마이그레이션 > 마이그레이트
* 앨범은 n임, 앨범은 장르의 여러개 중 한개 

> 트로트인 앨범들(쿼리셋)
>
> 앨범의 장르(인스턴스)

### ⭐️orm 정리⭐️

1. 파이썬으로 디비 조작, 디비에서 값을 가지고 오기도함
   1. 디비에서 테이블 생성 => 클래스 정의 => 메이크 마이그레이션 => 마이그레이트
   2. 쿼리 작성(sql) => `crud`

